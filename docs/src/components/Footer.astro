---
import EditLink from "@astrojs/starlight/components/EditLink.astro";
import LastUpdated from "@astrojs/starlight/components/LastUpdated.astro";
import Pagination from "@astrojs/starlight/components/Pagination.astro";
import config from "virtual:starlight/user-config";
import { Icon } from "@astrojs/starlight/components";
import { Image } from "astro:assets";
import fairagro from "../assets/fairagro.png";

const isHome = Astro.url.pathname === "/";
---

<footer class="sl-flex">
    <div class="meta sl-flex">
        <EditLink />
        <LastUpdated />
    </div>
    {!isHome && <Pagination />}
    <div
        class="w-full mx-auto max-w-screen-xl p-4 md:flex md:items-center md:justify-between"
    >
        <a
            class="flex items-center justify-between gap-2 text-black dark:text-white no-underline"
            href="/"
        >
            <span class="text-3xl font-black">SciWIn Client</span>
        </a>
        <ul class="flex flex-wrap items-center list-none text-sm gap-4">
            <li>
                <a
                    class="text-gray-600 dark:text-gray-200 no-underline hover:text-accent-400"
                    href="https://fairagro.net/en/legal-notice/">Legal Notice</a
                >
            </li>
        </ul>
    </div>
    <hr class="h-[2px] w-full bg-accent-800" />
    <a class="kudos sl-flex" href="https://fairagro.net">
        <Image src={fairagro} alt="fairagro" width={70} />
    </a>
    {
        config.credits && (
            <a class="kudos sl-flex" href="https://starlight.astro.build">
                <Icon name={"starlight"} />{" "}
                {Astro.locals.t("builtWithStarlight.label")}
            </a>
        )
    }
</footer>

<style>
    @layer starlight.core {
        footer {
            flex-direction: column;
            gap: 1.5rem;
        }
        .meta {
            gap: 0.75rem 3rem;
            justify-content: space-between;
            flex-wrap: wrap;
            margin-top: 3rem;
            font-size: var(--sl-text-sm);
            color: var(--sl-color-gray-3);
        }
        .meta > :global(p:only-child) {
            margin-inline-start: auto;
        }

        .kudos {
            gap: 0.5em;
            font-size: var(--sl-text-sm);
            margin: 0.05rem auto;
            text-decoration: none;
            color: var(--sl-color-gray-3);
        }
        .kudos:hover {
            color: var(--sl-color-white);
        }
    }

    @layer starlight.components {
        .kudos :global(svg) {
            color: var(--sl-color-orange);
        }
    }
</style>
